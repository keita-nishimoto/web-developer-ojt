# 課題5（退会）

他の課題と同様に [ojt-php](https://github.com/keitakn/ojt-php) をベースに開発を進めて行きましょう。

## アウトプット

ユーザーを退会（cancel）させる機能を作成して下さい。

## 完了条件

以下の条件を満たすようにして下さい。

- トップページのメニューに退会ページへのリンクが表示されている事
- 退会完了後は対象ユーザーに紐づく全てのログインセッションが無効化されている事
- 退会後、再び同じメールアドレスでユーザー登録が可能になっている事（ユーザーIDは新規発行）
- 退会時にユーザーが持っているメールアドレスは退会後も管理者が確認出来るようになっている事

## ヒント

>退会後、再び同じメールアドレスでユーザー登録が可能になっている事（ユーザーIDは新規発行）

ログイン時のメールアドレスを保存しているテーブルからデータを削除する必要があります。

>退会時にユーザーが持っているメールアドレスは退会後も管理者が確認出来るようになっている事

`cancelled_users_○○` テーブルを作って退会するユーザー情報を残しておきましょう。

完全削除してしまうと対象ユーザーがどのような操作を行っていたか全く分からなくなるので、システムで予期しない問題を発生される可能性があります。

退会ユーザーと生きているユーザーは別のテーブルで管理するのが分かりやすいです。

ただしパスワード等の認証情報は完全に削除してしまって問題はありません。

## このレッスンで身につける事

- 退会時処理の作成時に最低限必要な実装

## メンター向け

以下の点を重点的にレビューして下さい。

- 要件を確実に満たしているか
- 必要なデータが削除されている
- 必要なデータが別テーブルに保管されている
